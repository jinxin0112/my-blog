<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>node 中的事件循环详解 | Isabellae</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/timg.png">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.2f366aa1.css" as="style"><link rel="preload" href="/assets/js/app.1bc7909f.js" as="script"><link rel="preload" href="/assets/js/4.0ad0cbd1.js" as="script"><link rel="preload" href="/assets/js/1.2f11d07a.js" as="script"><link rel="preload" href="/assets/js/14.1e28382d.js" as="script"><link rel="prefetch" href="/assets/js/10.8599c440.js"><link rel="prefetch" href="/assets/js/11.0c581264.js"><link rel="prefetch" href="/assets/js/12.8ca1063d.js"><link rel="prefetch" href="/assets/js/13.7a33a694.js"><link rel="prefetch" href="/assets/js/15.69e21617.js"><link rel="prefetch" href="/assets/js/16.0d012b74.js"><link rel="prefetch" href="/assets/js/17.0a418b08.js"><link rel="prefetch" href="/assets/js/18.2891f69e.js"><link rel="prefetch" href="/assets/js/19.2e3fd6ac.js"><link rel="prefetch" href="/assets/js/20.f390b227.js"><link rel="prefetch" href="/assets/js/21.c350862d.js"><link rel="prefetch" href="/assets/js/22.d9fd0262.js"><link rel="prefetch" href="/assets/js/23.9ad01204.js"><link rel="prefetch" href="/assets/js/24.3b968009.js"><link rel="prefetch" href="/assets/js/5.3ce515bc.js"><link rel="prefetch" href="/assets/js/6.647c3a10.js"><link rel="prefetch" href="/assets/js/7.435ad074.js"><link rel="prefetch" href="/assets/js/8.7c401dd4.js"><link rel="prefetch" href="/assets/js/9.254b1b4e.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.95981d0f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2f366aa1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-19557b78><div data-v-19557b78><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-19557b78 data-v-19557b78><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-19557b78 data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Isabellae</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>JIN XIN</span>
            
          <span data-v-64685f0e>2017 - </span>
          2020
        </a></span></div></div> <div class="hide" data-v-19557b78><header class="navbar" data-v-19557b78><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Isabellae</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jinxin0112/my-blog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-19557b78></div> <aside class="sidebar" data-v-19557b78><div class="personal-info-wrapper" data-v-042e23d4><img src="/timg.png" alt="author-avatar" class="personal-img" data-v-042e23d4> <h3 class="name" data-v-042e23d4>
    JIN XIN
  </h3> <div class="num" data-v-042e23d4><div data-v-042e23d4><h3 data-v-042e23d4>13</h3> <h6 data-v-042e23d4>Article</h6></div> <div data-v-042e23d4><h3 data-v-042e23d4>7</h3> <h6 data-v-042e23d4>Tag</h6></div></div> <hr data-v-042e23d4></div> <nav class="nav-links"><div class="nav-item"><a href="https://github.com/jinxin0112/my-blog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>node 中的事件循环详解</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/eventLoop.html#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Blog/eventLoop.html#微任务-micro-task-和宏任务-macro-task" class="sidebar-link">微任务(micro task)和宏任务(macro task)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Blog/eventLoop.html#事件循环" class="sidebar-link">事件循环</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Blog/eventLoop.html#poll-阶段" class="sidebar-link">poll 阶段</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Blog/eventLoop.html#举例" class="sidebar-link">举例</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Blog/eventLoop.html#场景" class="sidebar-link">场景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/eventLoop.html#process-nexttick-vs-setimmediate" class="sidebar-link">process.nextTick() VS setImmediate()</a></li></ul></li><li><a href="/Blog/eventLoop.html#总结" class="sidebar-link">总结</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>node 中的事件循环详解</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>JIN XIN</span>
            
          <span data-v-64685f0e>2017 - </span>
          2020
        </a></span></div></div> <div data-v-19557b78><main class="page"><div class="page-title" style="display:none;"><h1>node 中的事件循环详解</h1> <hr> <div data-v-34ea29db><i class="iconfont reco-account" data-v-34ea29db><span data-v-34ea29db>JIN XIN</span></i> <i class="iconfont reco-date" data-v-34ea29db><span data-v-34ea29db>2017-12-28</span></i> <!----> <i class="iconfont reco-tag tags" data-v-34ea29db><span class="tag-item" data-v-34ea29db>node</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>代码执行器在解析执行 js 脚本时，主进程为单线程，而 node 为了防止堵塞，利用子进程，事件回调等实现了一套自己的事件循环机制。这套机制简言之就是由微任务和宏任务相互穿插执行，从而形成的一个事件环</p> <h2 id="微任务-micro-task-和宏任务-macro-task"><a href="#微任务-micro-task-和宏任务-macro-task" class="header-anchor">#</a> 微任务(micro task)和宏任务(macro task)</h2> <p>我对这两者的理解，所谓宏任务，就是一个子进程，在主进程后依次执行，每个宏任务有它自己的一个先进先出事件队列，当事件队列中的事件执行完或者事件执行到达上限后，则跳出该宏任务。而微任务则是当一个宏任务执行结束过后，事件执行会检测此时是否存在微任务，如果存在就去先去清空微任务的执行队列再执行下一个宏任务。</p> <p>常见的微任务和宏任务分别有：</p> <p>micro task</p> <ul><li>nextTick</li> <li>callback</li> <li>Promise.then</li> <li>process.nextTick</li> <li>Object.observe</li> <li>MutationObserver</li></ul> <p>macro task</p> <ul><li>script 代码块</li> <li>I/O</li> <li>timer</li> <li>UI rendering</li></ul> <h2 id="事件循环"><a href="#事件循环" class="header-anchor">#</a> 事件循环</h2> <div class="language- extra-class"><pre class="language-text"><code>   ┌───────────────────────────┐
┌─&gt;│           timers          │
│  └─────────────┬─────────────┘
│  ┌─────────────┴─────────────┐
│  │     pending callbacks     │
│  └─────────────┬─────────────┘
│  ┌─────────────┴─────────────┐
│  │       idle, prepare       │
│  └─────────────┬─────────────┘      ┌───────────────┐
│  ┌─────────────┴─────────────┐      │   incoming:   │
│  │           poll            │&lt;─────┤  connections, │
│  └─────────────┬─────────────┘      │   data, etc.  │
│  ┌─────────────┴─────────────┐      └───────────────┘
│  │           check           │
│  └─────────────┬─────────────┘
│  ┌─────────────┴─────────────┐
└──┤      close callbacks      │
   └───────────────────────────┘
</code></pre></div><blockquote><p>When Node.js starts, it initializes the event loop, processes the provided input script (or drops into the REPL, which is not covered in this document) which may make async API calls, schedule timers, or call process.nextTick(), then begins processing the event loop.</p></blockquote> <p>以上是 node 官方对事件循环给出的解释，大概意思就是当 Node.js 启动时会初始化 event loop, 每一个 event loop 都会包含按如图顺序六个循环阶段，事件队列在同步队列执行完后，首先会执行 nextTick，等 nextTick 执行完成后，然后会先执行 micro task， 等 micro task 队列空了之后，才会去执行 macro task，如果中间添加了 micro task 加入了 micro task 队列，会继续去执行 micro task 队列，然后再回到 macro task 队列。js 引擎存在 monitoring process 进程， 会不停的监听 task queue。</p> <h2 id="poll-阶段"><a href="#poll-阶段" class="header-anchor">#</a> poll 阶段</h2> <p>可以看到，其中的 poll 在这个事件循环中起着承上启下，连接的重要作用。poll 的存在，主要有如下两个主要的功能：</p> <ul><li>处理 poll 队列（poll quenue）的事件(callback);</li> <li>执行 timers 的 callback,当到达 timers 指定的时间时(不包括 setImmediate);</li></ul> <p>当程序进入到 poll 阶段时：</p> <ul><li>如果代码未设定 timer：
<ul><li>如果 poll 队列不为空，那么优先执行自身 callback 队列，直至清空</li> <li>如果 poll 队列为空：
<ul><li>如果代码已经被 setImmediate()设定了 callback, event loop 将结束 poll 阶段进入 check 阶段，并执行 check 阶段的 queue (check 阶段的 queue 是 setImmediate 设定的)</li> <li>如果代码没有设定 setImmediate(callback)，event loop 将阻塞在该阶段等待 callbacks 加入 poll queue;</li></ul></li></ul></li> <li>如果代码设定了 timer:
<ul><li>当 poll 队列为空时，执行到时的 timer</li></ul></li></ul> <h2 id="举例"><a href="#举例" class="header-anchor">#</a> 举例</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'then2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'then1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./b.json'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'nextTick'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setImmediate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// then1 then2 nextTick setImmediate</span>
</code></pre></div><p>解析：当 node 执行完主线程时， setTimeout, Promise, fs.readFile 将会被同步放入事件队列。主线程宏任务执行完成之后，优先执行微线程，所以会率先打印 then1 ,此时 timer 到期，再执行 timer，则打印 then2。timer 执行完之后，进入到轮训 poll 阶段，即执行 io 操作的回调。在该回调中，微任务 process.nextTick 将会在 check 之前执行。</p> <h2 id="场景"><a href="#场景" class="header-anchor">#</a> 场景</h2> <h3 id="process-nexttick-vs-setimmediate"><a href="#process-nexttick-vs-setimmediate" class="header-anchor">#</a> process.nextTick() VS setImmediate()</h3> <blockquote><p>In essence, the names should be swapped. process.nextTick() fires more immediately than setImmediate()</p></blockquote> <p>来自官方文档有意思的一句话，从语义角度看，setImmediate() 应该比 process.nextTick() 先执行才对，而事实相反，命名是历史原因也很难再变。process.nextTick() 会在各个事件阶段之间执行，一旦执行，要直到 nextTick 队列被清空，才会进入到下一个事件阶段，所以如果递归调用 process.nextTick()，会导致出现 I/O starving（饥饿）的问题，比如下面例子的 readFile 已经完成，但它的回调一直无法执行：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> starttime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> endtime<span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'text.txt'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    endtime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'finish reading time: '</span><span class="token punctuation">,</span> endtime <span class="token operator">-</span> starttime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index<span class="token operator">++</span> <span class="token operator">&gt;=</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">nextTick </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// console.log(`setImmediate ${index}`)</span>
    <span class="token comment">// setImmediate(handler)</span>
<span class="token punctuation">}</span>

<span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>process.nextTick()的运行结果：</p> <div class="language- extra-class"><pre class="language-text"><code>nextTick 1
nextTick 2
......
nextTick 999
nextTick 1000
finish reading time: 170
</code></pre></div><p>setImmediate()的运行结果：</p> <div class="language- extra-class"><pre class="language-text"><code>setImmediate 1
setImmediate 2
finish reading time: 80
......
setImmediate 999
setImmediate 1000
</code></pre></div><p>这是因为嵌套调用的 setImmediate() 回调，被排到了下一次 event loop 才执行，所以不会出现阻塞</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <ul><li>Node.js 的事件循环分为 6 个阶段</li> <li>Node.js 中，microtask 在事件循环的各个阶段之间执行</li> <li>递归的调用 process.nextTick()会导致 I/O 阻塞，官方推荐使用 setImmediate()</li></ul> <p>[参考资料]</p> <p><a href="'http://lynnelv.github.io/js-event-loop-nodejs'">深入理解 js 事件循环机制（Node.js 篇）</a></p> <p><a href="https://cnodejs.org/topic/57d68794cb6f605d360105bf" target="_blank" rel="noopener noreferrer">Node.js Event Loop 的理解 Timers，process.nextTick()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div><div class="cat-container" data-v-a13867c0><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-a13867c0></canvas></div></div></div>
    <script src="/assets/js/app.1bc7909f.js" defer></script><script src="/assets/js/4.0ad0cbd1.js" defer></script><script src="/assets/js/1.2f11d07a.js" defer></script><script src="/assets/js/14.1e28382d.js" defer></script>
  </body>
</html>
